#-------------------------------------------------------------------------------------------------#
# FILE:    tmux.conf                                                                              #
# PURPOSE: tmux config file                                                                       #
# AUTHOR:  Andrew Michaud - https://andrewmichaud.com                                             #
# UPDATED: 2015-01-20                                                                             #
# LICENSE: BSD/MIT                                                                                #
#-------------------------------------------------------------------------------------------------#

###################################################################################################
##########################################  STYLE  ################################################
###################################################################################################
# Colors set by and then taken from https://github.com/edkolev/tmuxline.vim.
# Using Solarized colors (http://ethanschoonover.com/solarized).
set-environment -g TMUX_BASE03  "colour8"
set-environment -g TMUX_BASE02  "colour0"
set-environment -g TMUX_BASE01  "colour10"
set-environment -g TMUX_BASE00  "colour11"
set-environment -g TMUX_BASE0   "colour12"
set-environment -g TMUX_BASE1   "colour14"
set-environment -g TMUX_BASE2   "colour7"
set-environment -g TMUX_BASE3   "colour15"
set-environment -g TMUX_YELLOW  "colour3"
set-environment -g TMUX_ORANGE  "colour9"
set-environment -g TMUX_RED     "colour1"
set-environment -g TMUX_MAGENTA "colour5"
set-environment -g TMUX_VIOLET  "colour13"
set-environment -g TMUX_BLUE    "colour4"
set-environment -g TMUX_CYAN    "colour6"
set-environment -g TMUX_GREEN   "colour2"

# Default window title colours.
set-window-option -g window-status-fg        TMUX_BASE01
set-window-option -g window-status-bg        TMUX_BASE02
set-window-option -g window-status-attr      "none"
set-window-option -g window-status-separator ""

# Left section colours.
set-option -g status-left-fg     TMUX_BASE3
set-option -g status-left-bg     TMUX_BASE2
set-option -g status-left-attr  "bold"

# Left contents: hostname, session title.
set-option -g status-left-length 30
set-option -g status-left " #h #[fg=colour7,bg=colour10] #S "

# Center section colours.
set-option -g status-fg      TMUX_BASE01
set-option -g status-bg      TMUX_BASE02
set-option -g status-attr    "none"
set-option -g status-utf8    "on"
set-option -g status         "on"

# Active window title colours.
set-window-option -g window-status-activity-fg   TMUX_BASE2
set-window-option -g window-status-activity-bg   TMUX_BASE02
set-window-option -g window-status-current-fg    TMUX_BASE3
set-window-option -g window-status-current-bg    TMUX_BASE1

# Panel centre: session index and window name.
set-option -g status-justify left
set-window-option -g window-status-current-format " #I|#W "
set-window-option -g window-status-format         " #I|#W "

# Right section colors.
set-option -g status-right-fg   TMUX_BASE1
set-option -g status-right-bg   TMUX_BASE01
set-option -g status-right-attr "none"

set-option -g status-right " %Y-%m-%d #[fg=colour7,bg=colour14] %H:%M "

# Pane border.
set-option -g pane-border-fg        TMUX_ORANGE_
set-option -g pane-active-border-fg TMUX_BASE2

# Command line/ message text.
set-option -g message-command-fg TMUX_BASE2
set-option -g message-command-bg TMUX_BASE00
set-option -g message-fg         TMUX_BASE2
set-option -g message-bg         TMUX_BASE00

# Pane number display.
set-window-option -g display-panes-active-colour TMUX_BASE1
set-window-option -g display-panes-colour        TMUX_BASE03

# Clock.
set-window-option -g clock-mode-colour TMUX_ORANGE

###################################################################################################
######################################  KEYBINDS  #################################################
###################################################################################################
# Use C-o as prefix.
unbind C-b
bind C-o send-prefix

# Reload config without killing server.
bind r source-file "$XDG_CONFIG_HOME/tmux/tmux.conf"; display-message "Config reloaded. =)"

# More intuitive keybindings for splitting.
# Vertical.
unbind %
bind - split-window -v -c "#{pane_current_path}"

# Horizontal.
unbind "\""
bind | split-window -h -c "#{pane_current_path}"

# New window.
unbind c
bind c new-window -c "#{pane_current_path}"

# Move between panes with vim movement keys.
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind j select-pane -R

# Move between windows with vim movement keys.
bind -r C-h select-window -t :-
bind -r C-l select-window -t :+

# Resize panes with vim movement keys.
bind -r H resize-pane -L 3
bind -r J resize-pane -D 3
bind -r K resize-pane -U 3
bind -r L resize-pane -R 3

###################################################################################################
######################################  SETTINGS  #################################################
###################################################################################################
# Scrollback buffer of 5000 lines.
set-option -g history-limit 5000

# Enable auto renaming and rename pane based on what terminal is doing.
set-window-option -g automatic-rename on
set-option -g set-titles on
set-option -g set-titles-string "#W"

# Resize window based on smallest client actually viewing.
set-window-option -g aggressive-resize on

# Mouse!
set-option -g -q mouse on

set-window-option -g xterm-keys on
set-option -g default-terminal "xterm-256color"

set-option -g escape-time 0
