#!/bin/bash

# Handles all the nonsense necessary to get bibtex and pdflatex to work
# together.
# No promises.

if [ "$#" -ne 1 ]; then
    echo "Not enough arguments supplied!"
    echo "Usage: handleTeX filename"
    exit
fi

# .bib file, run bibtex
if [ -a "$1'.bib'" ]; then
    pdflatex "$1'.tex'"
    latex "$1'.tex'"
    bibtex "$1'.bib'"
    latex "$1'.tex'"
    latex "$1'.tex'"
fi

# Compile to PDF.
pdflatex "$1'.tex'"
